curl --location 'http://localhost:8080/realms/demo/protocol/openid-connect/token' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'client_id=spring-boot-app' \
--data-urlencode 'client_secret=AQxbMiF79vSqdaY0oWQxA8ExPsFKFrSm' \
--data-urlencode 'grant_type=client_credentials'

curl http://localhost:80/public/hello

curl -s http://localhost:80/private/hello \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJEMGJ6UEViUGZjZnYzVUFzMnREeGl0VjB4M0hUZDQzZUVRcFBkVFVPS19nIn0.eyJleHAiOjE3NTM4NDczNDUsImlhdCI6MTc1Mzg0NzA0NSwianRpIjoiZTgyZWRhZGEtMDEwNC00ODUxLTg2YTQtOWZjMTJjZDg2ZjAyIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9kZW1vIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjFkZjAwYzk5LWFhOTctNDE3Mi1iOTQwLWE4ODA0NzVlNzlhMCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNwcmluZy1ib290LWFwcCIsInNlc3Npb25fc3RhdGUiOiI4NzA1Y2RiMC0wZDMzLTQ4NjYtOGIyZC0xOWJlODFhZTYyYWQiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLWRlbW8iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJzaWQiOiI4NzA1Y2RiMC0wZDMzLTQ4NjYtOGIyZC0xOWJlODFhZTYyYWQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IjEgMSIsInByZWZlcnJlZF91c2VybmFtZSI6ImFsaWNlMSIsImdpdmVuX25hbWUiOiIxIiwiZmFtaWx5X25hbWUiOiIxIiwiZW1haWwiOiJhbGljZTFAZXhhbXBsZS5jb20ifQ.Iui3AD2GSf0blcHIFiuvUVMvBnwzpZtuXWpzr1tkKDpF2pXvnNdNVyUNyJ6gfMFSp_bFMLIXUBbpfP50uF_p_djXv68_L-GpFhPWh8yk4cCB7Z6TELrDX6Ol_wFuizL1RyUwoFysPnB3-OGHUZWQU2c8SVSw2iMnE9pCQtrPdC-x6xGS0XpX0mTjPbYTwIfraCi4LF5ApsXJJyfAyUIz1MX3UTmwAYiip_9QGuALdoZ61do26qPS2r5mzI6O7e_l7FkNp5_klIlb2MwV_N6vb90jfcrYuTcghKrydtKRw8Wbm3MQfkltsfTbocASiL-BD4SZrgjwIJcF1RQ2DSTxEw"

curl -s http://localhost:80/admin-only \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJEMGJ6UEViUGZjZnYzVUFzMnREeGl0VjB4M0hUZDQzZUVRcFBkVFVPS19nIn0.eyJleHAiOjE3NTM4NDczNDUsImlhdCI6MTc1Mzg0NzA0NSwianRpIjoiZTgyZWRhZGEtMDEwNC00ODUxLTg2YTQtOWZjMTJjZDg2ZjAyIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9kZW1vIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjFkZjAwYzk5LWFhOTctNDE3Mi1iOTQwLWE4ODA0NzVlNzlhMCIsInR5cCI6IkJlYXJlciIsImF6cCI6InNwcmluZy1ib290LWFwcCIsInNlc3Npb25fc3RhdGUiOiI4NzA1Y2RiMC0wZDMzLTQ4NjYtOGIyZC0xOWJlODFhZTYyYWQiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLWRlbW8iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJzaWQiOiI4NzA1Y2RiMC0wZDMzLTQ4NjYtOGIyZC0xOWJlODFhZTYyYWQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IjEgMSIsInByZWZlcnJlZF91c2VybmFtZSI6ImFsaWNlMSIsImdpdmVuX25hbWUiOiIxIiwiZmFtaWx5X25hbWUiOiIxIiwiZW1haWwiOiJhbGljZTFAZXhhbXBsZS5jb20ifQ.Iui3AD2GSf0blcHIFiuvUVMvBnwzpZtuXWpzr1tkKDpF2pXvnNdNVyUNyJ6gfMFSp_bFMLIXUBbpfP50uF_p_djXv68_L-GpFhPWh8yk4cCB7Z6TELrDX6Ol_wFuizL1RyUwoFysPnB3-OGHUZWQU2c8SVSw2iMnE9pCQtrPdC-x6xGS0XpX0mTjPbYTwIfraCi4LF5ApsXJJyfAyUIz1MX3UTmwAYiip_9QGuALdoZ61do26qPS2r5mzI6O7e_l7FkNp5_klIlb2MwV_N6vb90jfcrYuTcghKrydtKRw8Wbm3MQfkltsfTbocASiL-BD4SZrgjwIJcF1RQ2DSTxEw"


curl -X POST http://localhost:80/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username": "alice", "email": "alice@example.com", "password": "123456"}'


curl -X POST http://localhost:80/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "alice1", "password": "123456"}'

curl -i http://localhost:80/private/hello \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJEMGJ6UEViUGZjZnYzVUFzMnREeGl0VjB4M0hUZDQzZUVRcFBkVFVPS19nIn0.eyJleHAiOjE3NTM4MzM0MjEsImlhdCI6MTc1MzgzMzEyMSwianRpIjoiZTI3OTgxMDEtYmZjNi00NDM3LWI0M2EtMzYwOTI3M2ZlMDE3IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9kZW1vIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjNkODJhYmZiLWQ3Y2MtNDc0OS04NTE4LTcxNzU5Y2VkNzk2MSIsInR5cCI6IkJlYXJlciIsImF6cCI6InNwcmluZy1ib290LWFwcCIsInNlc3Npb25fc3RhdGUiOiJiYmNhYTliNS1lMzI3LTRmNzMtODEzOC1kMTlmZjBlNTkwOTciLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLWRlbW8iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJzaWQiOiJiYmNhYTliNS1lMzI3LTRmNzMtODEzOC1kMTlmZjBlNTkwOTciLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IjEgMSIsInByZWZlcnJlZF91c2VybmFtZSI6ImFsaWNlIiwiZ2l2ZW5fbmFtZSI6IjEiLCJmYW1pbHlfbmFtZSI6IjEiLCJlbWFpbCI6ImFsaWNlQGV4YW1wbGUuY29tIn0.CRbBHJzI81sFdA1MNdOjNhGT0PjN5EopJEduzd5J4E_4s77JiwzBeGetU-Miw0rxDElj-vpNHOWdGzWqWRWxazL1RywtGeFUreqOJgXPkTAWXaW2EF4nu2mCq9rmYhHZRKL6fWWuvFyaSimrZj4mcZDDE5H66U5SuCZ2X2zXhkj7vUILCOTfn55r256Ks4xAYwbRxInfg2iJV4plhMXg-sjkP4r8-z739_9KgVp2iQeo-_S3isvH4igKLbnSurXGXIBQlwNDE4Y4PDVJlpn6RB9vy5yOOqi59lVocgiZ_SmAQxIsIkkzrAmffG8bQS2MLfeirNpLEYZRDhcqNB0jJg"


//-----enable 2FA
curl -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \
  -d "client_id=admin-cli" \
  -d "username=admin" \
  -d "password=admin" \
  -d "grant_type=password"


curl -X GET \
  "http://localhost:8080/admin/realms/demo/users?username=alice" \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZV0NxbGx5UUdjUmo3MmUzU3RkMG9IRTVHZXA2djZhby1DNmN5ZW5Ma0lFIn0.eyJleHAiOjE3NTM4MzU5MDksImlhdCI6MTc1MzgzNTg0OSwianRpIjoiZDQ4NDk4ZDgtZjE1NC00ZDhlLTg2NjAtZjQxZWQzZTUzMGQ3IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9tYXN0ZXIiLCJzdWIiOiJmMTAwNGJlZi1iY2ZiLTQ0MjYtYTBjMi00MTMzZDBmNDdlYTAiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJhZG1pbi1jbGkiLCJzZXNzaW9uX3N0YXRlIjoiNjVlMmM3YjAtY2VmYy00ODc3LTgwY2QtMTkzMDhlN2Q1MGEwIiwiYWNyIjoiMSIsInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1ZTJjN2IwLWNlZmMtNDg3Ny04MGNkLTE5MzA4ZTdkNTBhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.A9c8-SFSA2dFnZBzQPxOCLVmxQkaJUcC0aGytAZhcht6YYOV-p1PdFNZYPU_sRZB4yVq6YlVYM-DhJzXH5ZjyIT11F0B87vhl6OPPKtYr661L5gFXnhwqA0QQ5E3xEdlhRYPK1XCvVmyfdJ9JsygGnIpooNHHMCAUT9wEeRTMZkTdyTGeff06IP5PAcGW5Knc2I7OBOeTOtvIePSDS7DZ5aiUODnIp4HHKO3P52r9C4ULDBmXzXVyIqIFbW4lfJV5bz13BPKEk68G59wPw2JAe2DNRQ39_Wh2a20w6HCuWRsECL4G71TSDlLtDPfCuS54PvV0SmOnLPBqJqMzDSiYw"


curl -X PUT "http://localhost:8080/admin/realms/demo/users/3d82abfb-d7cc-4749-8518-71759ced7961" \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZV0NxbGx5UUdjUmo3MmUzU3RkMG9IRTVHZXA2djZhby1DNmN5ZW5Ma0lFIn0.eyJleHAiOjE3NTM4MzU5MDksImlhdCI6MTc1MzgzNTg0OSwianRpIjoiZDQ4NDk4ZDgtZjE1NC00ZDhlLTg2NjAtZjQxZWQzZTUzMGQ3IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9tYXN0ZXIiLCJzdWIiOiJmMTAwNGJlZi1iY2ZiLTQ0MjYtYTBjMi00MTMzZDBmNDdlYTAiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJhZG1pbi1jbGkiLCJzZXNzaW9uX3N0YXRlIjoiNjVlMmM3YjAtY2VmYy00ODc3LTgwY2QtMTkzMDhlN2Q1MGEwIiwiYWNyIjoiMSIsInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjY1ZTJjN2IwLWNlZmMtNDg3Ny04MGNkLTE5MzA4ZTdkNTBhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.A9c8-SFSA2dFnZBzQPxOCLVmxQkaJUcC0aGytAZhcht6YYOV-p1PdFNZYPU_sRZB4yVq6YlVYM-DhJzXH5ZjyIT11F0B87vhl6OPPKtYr661L5gFXnhwqA0QQ5E3xEdlhRYPK1XCvVmyfdJ9JsygGnIpooNHHMCAUT9wEeRTMZkTdyTGeff06IP5PAcGW5Knc2I7OBOeTOtvIePSDS7DZ5aiUODnIp4HHKO3P52r9C4ULDBmXzXVyIqIFbW4lfJV5bz13BPKEk68G59wPw2JAe2DNRQ39_Wh2a20w6HCuWRsECL4G71TSDlLtDPfCuS54PvV0SmOnLPBqJqMzDSiYw" \
  -H "Content-Type: application/json" \
  -d '{"requiredActions": ["CONFIGURE_TOTP"]}'

Login to http://localhost:8080/realms/demo/account/
get QR code

curl -X POST http://localhost:8080/realms/demo/protocol/openid-connect/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "client_id=spring-boot-app" \
  -d "grant_type=password" \
  -d "username=alice" \
  -d "password=Pass@1234" \
  -d "totp=323091" \
  -d "client_secret=F49XkyCoBOSNrSiwSWry9oasmKBWp32F"


===============

curl -X POST https://keycloak-uat.tnex.vn/realms/tnex-sale-app/protocol/openid-connect/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "client_id=tnex-sale-app" \
  -d "grant_type=password" \
  -d "username=0377872503" \
  -d "password=Pass@1234" \
  -d "totp=418805" \
  -d "client_secret=DgRNXhBZXzyGQjRcgZfg8d0WImEgNihg"